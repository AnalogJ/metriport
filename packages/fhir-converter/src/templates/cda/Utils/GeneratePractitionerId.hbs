{{!-- Id composed of root and extension if they both exist, else name addr telecom --}}
{{#with (elementAt (toArray obj.id) 0) as |FirstId|}}
    {
        "Id":
            {{#if (and FirstId.root FirstId.extension)}}
                "{{generateUUID (concat (toString FirstId.root) '|' (toString FirstId.extension))}}"
            {{else if ../obj.assignedPerson.name}}
                "{{generateUUID (concat ../obj.assignedPerson.name ../obj.addr ../obj.telecom)}}"
            {{/if}}
    }
{{/with}}
